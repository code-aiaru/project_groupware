<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>결재 문서 리스트</title>
    <link rel="stylesheet" th:href="@{/css/index.css}" data-static>
    <script th:src="@{/js/approval/approvalUser.js}" defer></script>
</head>
<body>
<div class="container">
    <div class="approval-con">
        <div class="approval-title">
            <h1>결재 문서</h1>
        </div>
        <div class="approval-search">
            <div class="search">
                <form th:action="@{/approval/search}" method="GET">
                    <select name="subject" id="subject">
                        <option value="title">제목</option>
                        <option value="content">내용</option>
                    </select>
                    <input type="text" name="search" id="search" th:value="${param.search}">
                    <input type="submit" value="검색" class="inputSearch">
                </form>
            </div>
            <div class="move-write">
                <li><a th:href="@{/approval/write}">결재문서작성</a></li>
            </div>
        </div>
        <div class="approval-list">
            <div class="approval-list-con">
                <table border="1">
                    <thead>
                    <tr>
                        <th class="th1">문서번호</th>
                        <th class="th2">글제목</th>
                        <th class="th3">상태</th>
                        <th class="th4">작성시간</th>
                        <th class="th5">기안자</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="approval :${approvalList}">
                        <td th:text="${approval.Id}">Opions</td>
                        <td class="td-title"><a th:href="@{/approval/detail/{id}(id=${approval.Id})}"><span
                                th:text="${approval.ApprovalTitle}"></span></a>
                        </td>
                        <td th:text="${approval.ApprovalStatus}">Opions</td>
                        <td th:text="${#temporals.format(approval.createTime, 'yyyy-MM-dd HH:mm:ss')}">Opions</td>
                        <td th:text="${approval.EmployeeEntity.employeeEmail}">Opions</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="approval-paging-con">
            <div class="paging">
                <ul>
                    <li>
                        <span th:if="${1==approvalList.pageable.pageNumber+1}" class="spanOff">◁◁</span>
                        <span th:unless="${1==approvalList.pageable.pageNumber+1}">
            <a th:href="@{/pay/list(page=0,size=${pSize})}" class="spanOn">◁◁</a>
          </span>
                    </li>
                    <li>
                        <span th:if="${1==approvalList.pageable.pageNumber+1}" class="spanOff">◁</span>
                        <span th:unless="${1==approvalList.pageable.pageNumber+1}">
            <a th:href="@{/approval/list(page=${approvalList.pageable.pageNumber-1},size=${pSize})}"
               class="spanOn">◁</a>
          </span>
                    </li>
                    <li th:each="i: ${#numbers.sequence(startPage, endPage)}" class="block">
                        <span th:if="${i==approvalList.pageable.pageNumber+1}" th:text="${i}" class="now"> </span>
                        <a th:unless="${i==approvalList.pageable.pageNumber+1}"
                           th:href="@{/approval/list(page=${i-1},size=${pSize})}"
                           th:text="${i}"></a>
                    </li>
                    <li>
                                <span th:if="${approvalList.totalPages==approvalList.pageable.pageNumber+1}"
                                      class="spanOff">▷</span>
                        <span th:unless="${approvalList.totalPages==approvalList.pageable.pageNumber+1}">
            <a th:href="@{/approval/list(page=${approvalList.pageable.pageNumber+1},size=${pSize})}"
               class="spanOn">▷</a>
          </span>
                    </li>
                    <li>
                                <span th:if="${approvalList.totalPages==approvalList.pageable.pageNumber+1}"
                                      class="spanOff">▷▷</span>
                        <span th:unless="${approvalList.totalPages==approvalList.pageable.pageNumber+1}">
            <a th:href="@{/approval/list(page=${approvalList.totalPages-1},size=${pSize})}"
               class="spanOn">▷▷</a>
          </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>